"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=require("react/jsx-runtime"),t=require("react"),y=require("../Space/index.js"),g=require("../Theme/index.js"),M=require("../Typography/index.js"),A=require("../Icon/Icon.js"),d=require("../../utils/design/colors.js"),u=require("framer-motion"),F=require("../../utils/design/ThemeShadow.js"),b=t.memo(({tabs:s,defaultActiveIndex:T=0,onChange:h,variant:n="pills",tabContainerStyle:I,tabItemContainerStyle:S,tabItemStyle:k,tabIndicatorStyle:R,tabContentStyle:C})=>{const{themeMode:a}=g.Theme.useThemeMode(),{themeColor:p}=g.Theme.useThemeColor(),[f,x]=t.useState(!1),[o,j]=t.useState(T),[q,w]=t.useState({}),m=t.useRef([]),c=t.useCallback(()=>{if(m.current[o]){const e=m.current[o];if(e){const i=!!s[o].icon,{offsetLeft:l,offsetWidth:v}=e;w({left:l,width:v+(f&&i?24:0)})}}},[o,n,s,f]);t.useLayoutEffect(()=>(x(!0),()=>{x(!1)}),[]),t.useEffect(()=>{c()},[c]),t.useEffect(()=>{const e=requestAnimationFrame(()=>{c()});return()=>cancelAnimationFrame(e)},[o,s.length,c]);const B=t.useCallback((e,i)=>{x(!1),t.startTransition(()=>{j(e)}),h(e,i)},[h]);return r.jsxs(y.Space.Flex,{column:!0,gap:0,style:{width:"100%",...I},children:[r.jsxs(y.Space.Flex,{row:!0,style:{position:"relative",...n==="pills"&&{background:d.BackgroundColors[a].secondary,padding:"4px",borderRadius:"8px"},...n==="underline"&&{borderBottomWidth:1.5,borderBottomStyle:"solid",borderBottomColor:d.BorderColors[a].secondary},...S},children:[s.map((e,i)=>r.jsxs(u.motion.button,{ref:l=>{l&&(m.current[i]=l)},onClick:()=>B(i,e),style:{WebkitTapHighlightColor:"transparent",padding:"12px 20px",display:"flex",alignItems:"center",cursor:"pointer",fontWeight:"500",outline:"none",border:"none",color:d.TextColors[a].primary,background:"transparent",transition:"color 0.2s ease",...n==="pills"&&{position:"relative",zIndex:2,borderRadius:"8px"},...n==="underline"&&{borderRadius:0},...k},children:[e.icon&&r.jsx(A.default,{icon:e.icon,width:20,style:{marginRight:"8px",color:i===o?p:"inherit"}}),r.jsx(M.Typography.Text,{text:e.label,style:{color:i===o?p:"inherit"}})]},e.key||i)),r.jsx(u.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2,ease:"easeOut"},layout:!0,style:{position:"absolute",...q,...n==="pills"&&{top:"4px",zIndex:1,height:"calc(100% - 8px)",borderRadius:"6px",background:d.BackgroundColors[a].primary,boxShadow:F.ThemeShadow[a].tertiary},...n==="underline"&&{bottom:"-2px",height:"3px",background:p,borderRadius:"4px"},...R}})]}),r.jsx(u.AnimatePresence,{mode:"wait",children:s[o]&&r.jsx(u.motion.div,{variants:{enter:{opacity:1,x:0,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,x:10,transition:{duration:.2,ease:"easeIn"}}},initial:"exit",animate:"enter",exit:"exit",style:{width:"100%",padding:"16px",position:"relative",...C},children:s[o].content},o)})]})});b.displayName="Tab";exports.default=b;
