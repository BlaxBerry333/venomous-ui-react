"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),p=require("clsx"),c=require("react"),y=require("../Menu/index.js"),k=require("../Space/index.js"),O=require("../Typography/index.js"),M=require("./FormField.js"),N=require("./useFormFieldStyle.js"),z=require("../../hooks/useElementFocus/index.js"),P=require("../Popover/Popover.js"),b=require("../Icon/Icon.js"),R=require("../../utils/design/TypographySize.js"),v=c.memo(({isOriginalSelect:o=!1,fullWidth:s,required:x=!1,isError:r=!1,disabled:i=!1,label:m,helpText:l,...f})=>{const{isFocused:u,setIsFocused:d,handleFocus:n,handleBlur:S}=z.default(),{commonStyles:a}=N.useFormFieldStyle({fullWidth:s,isDisabled:i,isError:r,isFocused:u});return t.jsxs(M.default,{label:m,required:x,isDisabled:i,isError:r,isFocused:u,fullWidth:s,helpText:l,children:[o&&t.jsx(g,{commonStyles:a,handleFocus:n,handleBlur:S,disabled:i,...f}),!o&&t.jsx(j,{commonStyles:a,setIsFocused:d,disabled:i,...f})]})});v.displayName="FormField.Select";const g=c.memo(({commonStyles:o,handleFocus:s,handleBlur:x,name:r,autoComplete:i="off",options:m,onChange:l,value:f,disabled:u,className:d,style:n,...S})=>t.jsx("select",{name:r,autoComplete:i,disabled:u,onFocus:s,onBlur:x,onChange:l,value:f,className:p("Venomous-UI-React--FormField.Select",d),style:{boxSizing:"border-box",...o,...n},...S,children:m.map(a=>t.jsx("option",{value:a.value,disabled:a.disabled,children:a.label},a.value))})),j=c.memo(({commonStyles:o,setIsFocused:s,disabled:x,name:r,value:i,options:m,onChange:l,className:f,style:u})=>{const[d,n]=c.useState(i||null),[S,a]=c.useState(!1);c.useEffect(()=>{n(i||null)},[i]);const q=c.useCallback(e=>{n(e),a(!1),s(!1);const F={target:{name:r,value:e},currentTarget:{name:r,value:e}};l==null||l(F)},[r,l,s]),w=c.useCallback(e=>{e.stopPropagation(),n(null),s(!1);const F={target:{name:r,value:""},currentTarget:{name:r,value:""}};l==null||l(F)},[r,l,s]),T=c.useMemo(()=>{var e;return((e=m.find(F=>F.value===d))==null?void 0:e.label)||""},[d]),h=(u==null?void 0:u.width)??o.minWidth;return t.jsx(P.default,{placement:"bottom",trigger:"click",style:{width:"100%"},onClickOutside:()=>s(!1),renderTrigger:()=>t.jsxs(k.Space.Flex,{row:!0,onClick:()=>s(!0),style:{...o,height:o.minHeight,width:h,display:"flex",alignItems:"center"},children:[t.jsx(O.Typography.Paragraph,{ellipsis:1,style:{flex:1},children:T}),d&&!x&&t.jsx(b.default,{icon:"solar:close-circle-line-duotone",width:16,onClick:w,style:{cursor:"pointer",transition:"color 0.2s ease"}}),t.jsx(b.default,{icon:"solar:alt-arrow-down-line-duotone",width:16,style:{transition:"transform 0.2s ease",transform:S?"rotate(180deg)":"rotate(0deg)"}})]}),children:t.jsx(y.Menu.List,{as:"ul",className:p("Venomous-UI-React--FormField.Select",f),style:{width:h},children:m.map(e=>t.jsx(y.Menu.Item,{text:e.label,isDisabled:e.disabled,isActive:e.value===d,onClick:()=>{e.disabled||q(e.value)},style:{cursor:e.disabled?"not-allowed":"pointer",fontSize:R.TypographySize.small}},e.value))})})});g.displayName="FormField.Select.Original";j.displayName="FormField.Select.Custom";exports.default=v;
