"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),a=require("react"),b=require("../Menu/index.js"),w=require("../Space/index.js"),T=require("../Typography/index.js"),k=require("./FormField.js"),O=require("./useFormFieldStyle.js"),M=require("../../hooks/useElementFocus/index.js"),z=require("../Popover/Popover.js"),p=require("../Icon/Icon.js"),P=require("../../utils/design/TypographySize.js"),v=a.memo(({isOriginalSelect:c=!1,fullWidth:r,required:m=!1,isError:s=!1,disabled:i=!1,label:f,helpText:l,...u})=>{const{isFocused:d,setIsFocused:n,handleFocus:x,handleBlur:o}=M.default(),{commonStyles:y}=O.useFormFieldStyle({fullWidth:r,isDisabled:i,isError:s,isFocused:d});return t.jsxs(k.default,{label:f,required:m,disabled:i,isError:s,fullWidth:r,helpText:l,children:[c&&t.jsx(g,{commonStyles:y,handleFocus:x,handleBlur:o,disabled:i,...u}),!c&&t.jsx(j,{commonStyles:y,setIsFocused:n,disabled:i,...u})]})});v.displayName="FormField.Select";const g=a.memo(({commonStyles:c,handleFocus:r,handleBlur:m,name:s,autoComplete:i="off",options:f,onChange:l,value:u,disabled:d,style:n,...x})=>t.jsx("select",{name:s,autoComplete:i,disabled:d,onFocus:r,onBlur:m,onChange:l,value:u,style:{boxSizing:"border-box",...c,...n},...x,children:f.map(o=>t.jsx("option",{value:o.value,disabled:o.disabled,children:o.label},o.value))})),j=a.memo(({commonStyles:c,setIsFocused:r,disabled:m,name:s,value:i,options:f,onChange:l,style:u})=>{const[d,n]=a.useState(i||null),[x,o]=a.useState(!1);a.useEffect(()=>{n(i||null)},[i]);const y=a.useCallback(e=>{n(e),o(!1),r(!1);const h={target:{name:s,value:e},currentTarget:{name:s,value:e}};l==null||l(h)},[s,l,r]),F=a.useCallback(e=>{e.stopPropagation(),n(null),r(!1);const h={target:{name:s,value:""},currentTarget:{name:s,value:""}};l==null||l(h)},[s,l,r]),q=a.useMemo(()=>{var e;return((e=f.find(h=>h.value===d))==null?void 0:e.label)||""},[d]),S=(u==null?void 0:u.width)??c.minWidth;return t.jsx(z.default,{placement:"bottom",trigger:"click",style:{width:"100%"},onClickOutside:()=>r(!1),renderTrigger:()=>t.jsxs(w.Space.Flex,{row:!0,onClick:()=>r(!0),style:{...c,height:c.minHeight,width:S,display:"flex",alignItems:"center"},children:[t.jsx(T.Typography.Paragraph,{ellipsis:1,style:{flex:1},children:q}),d&&!m&&t.jsx(p.default,{icon:"solar:close-circle-line-duotone",width:16,onClick:F,style:{cursor:"pointer",transition:"color 0.2s ease"}}),t.jsx(p.default,{icon:"solar:alt-arrow-down-line-duotone",width:16,style:{transition:"transform 0.2s ease",transform:x?"rotate(180deg)":"rotate(0deg)"}})]}),children:t.jsx(b.Menu.List,{as:"ul",style:{width:S},children:f.map(e=>t.jsx(b.Menu.Item,{text:e.label,isDisabled:e.disabled,isActive:e.value===d,onClick:()=>{e.disabled||y(e.value)},style:{cursor:e.disabled?"not-allowed":"pointer",fontSize:P.TypographySize.small}},e.value))})})});g.displayName="FormField.Select.Original";j.displayName="FormField.Select.Custom";exports.default=v;
