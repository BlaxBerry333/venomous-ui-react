"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),c=require("react"),b=require("../Menu/index.js"),w=require("../Space/index.js"),T=require("../Typography/index.js"),k=require("./FormField.js"),O=require("./_useFormFieldStyle.js"),M=require("../../hooks/useElementFocus/index.js"),z=require("../Popover/Popover.js"),p=require("../Icon/Icon.js"),P=require("../../utils/design/TypographySize.js"),v=c.memo(({isOriginalSelect:u=!1,fullWidth:s,required:m=!1,isError:r=!1,disabled:i=!1,label:f,helpText:l,...d})=>{const{isFocused:a,setIsFocused:n,handleFocus:x,handleBlur:o}=M.default(),{commonStyles:y}=O.useFormFieldStyle({fullWidth:s,isDisabled:i,isError:r,isFocused:a});return t.jsxs(k.default,{label:f,required:m,isDisabled:i,isError:r,isFocused:a,fullWidth:s,helpText:l,children:[u&&t.jsx(g,{commonStyles:y,handleFocus:x,handleBlur:o,disabled:i,...d}),!u&&t.jsx(j,{commonStyles:y,setIsFocused:n,disabled:i,...d})]})});v.displayName="FormField.Select";const g=c.memo(({commonStyles:u,handleFocus:s,handleBlur:m,name:r,autoComplete:i="off",options:f,onChange:l,value:d,disabled:a,style:n,...x})=>t.jsx("select",{name:r,autoComplete:i,disabled:a,onFocus:s,onBlur:m,onChange:l,value:d,style:{boxSizing:"border-box",...u,...n},...x,children:f.map(o=>t.jsx("option",{value:o.value,disabled:o.disabled,children:o.label},o.value))})),j=c.memo(({commonStyles:u,setIsFocused:s,disabled:m,name:r,value:i,options:f,onChange:l,style:d})=>{const[a,n]=c.useState(i||null),[x,o]=c.useState(!1);c.useEffect(()=>{n(i||null)},[i]);const y=c.useCallback(e=>{n(e),o(!1),s(!1);const h={target:{name:r,value:e},currentTarget:{name:r,value:e}};l==null||l(h)},[r,l,s]),F=c.useCallback(e=>{e.stopPropagation(),n(null),s(!1);const h={target:{name:r,value:""},currentTarget:{name:r,value:""}};l==null||l(h)},[r,l,s]),q=c.useMemo(()=>{var e;return((e=f.find(h=>h.value===a))==null?void 0:e.label)||""},[a]),S=(d==null?void 0:d.width)??u.minWidth;return t.jsx(z.default,{placement:"bottom",trigger:"click",style:{width:"100%"},onClickOutside:()=>s(!1),renderTrigger:()=>t.jsxs(w.Space.Flex,{row:!0,onClick:()=>s(!0),style:{...u,height:u.minHeight,width:S,display:"flex",alignItems:"center"},children:[t.jsx(T.Typography.Paragraph,{ellipsis:1,style:{flex:1},children:q}),a&&!m&&t.jsx(p.default,{icon:"solar:close-circle-line-duotone",width:16,onClick:F,style:{cursor:"pointer",transition:"color 0.2s ease"}}),t.jsx(p.default,{icon:"solar:alt-arrow-down-line-duotone",width:16,style:{transition:"transform 0.2s ease",transform:x?"rotate(180deg)":"rotate(0deg)"}})]}),children:t.jsx(b.Menu.List,{as:"ul",style:{width:S},children:f.map(e=>t.jsx(b.Menu.Item,{text:e.label,isDisabled:e.disabled,isActive:e.value===a,onClick:()=>{e.disabled||y(e.value)},style:{cursor:e.disabled?"not-allowed":"pointer",fontSize:P.TypographySize.small}},e.value))})})});g.displayName="FormField.Select.Original";j.displayName="FormField.Select.Custom";exports.default=v;
