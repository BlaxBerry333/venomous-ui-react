"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),b=require("clsx"),c=require("react"),k=require("../../hooks/useElementFocus/index.js");require("../../utils/design/colors.js");require("../../utils/design/Shadow.js");const O=require("../../utils/design/TypographySize.js"),h=require("../Icon/Icon.js"),y=require("../Menu/index.js"),M=require("../Popover/Popover.js"),N=require("../Space/index.js"),z=require("../Typography/index.js"),P=require("./_useFormFieldStyle.js"),R=require("./FormField.js"),v=c.memo(({isOriginalSelect:o=!1,fullWidth:r,required:x=!1,isError:s=!1,disabled:i=!1,label:m,helpText:l,...f})=>{const{isFocused:u,setIsFocused:d,handleFocus:n,handleBlur:S}=k.default(),{commonStyles:a}=P.useFormFieldStyle({fullWidth:r,isDisabled:i,isError:s,isFocused:u});return t.jsxs(R.default,{label:m,required:x,isDisabled:i,isError:s,isFocused:u,fullWidth:r,helpText:l,children:[o&&t.jsx(g,{commonStyles:a,handleFocus:n,handleBlur:S,disabled:i,...f}),!o&&t.jsx(j,{commonStyles:a,setIsFocused:d,disabled:i,...f})]})});v.displayName="FormField.Select";const g=c.memo(({commonStyles:o,handleFocus:r,handleBlur:x,name:s,autoComplete:i="off",options:m,onChange:l,value:f,disabled:u,className:d,style:n,...S})=>t.jsx("select",{name:s,autoComplete:i,disabled:u,onFocus:r,onBlur:x,onChange:l,value:f,className:b("Venomous-UI-React--FormField.Select",d),style:{boxSizing:"border-box",...o,...n},...S,children:m.map(a=>t.jsx("option",{value:a.value,disabled:a.disabled,children:a.label},a.value))})),j=c.memo(({commonStyles:o,setIsFocused:r,disabled:x,name:s,value:i,options:m,onChange:l,className:f,style:u})=>{const[d,n]=c.useState(i||null),[S,a]=c.useState(!1);c.useEffect(()=>{n(i||null)},[i]);const p=c.useCallback(e=>{n(e),a(!1),r(!1);const F={target:{name:s,value:e},currentTarget:{name:s,value:e}};l==null||l(F)},[s,l,r]),q=c.useCallback(e=>{e.stopPropagation(),n(null),r(!1);const F={target:{name:s,value:""},currentTarget:{name:s,value:""}};l==null||l(F)},[s,l,r]),w=c.useMemo(()=>{var e;return((e=m.find(F=>F.value===d))==null?void 0:e.label)||""},[d]),T=(u==null?void 0:u.width)??o.minWidth;return t.jsx(M.default,{direction:"bottom",trigger:"click",style:{width:"100%"},onClickOutside:()=>r(!1),renderTrigger:()=>t.jsxs(N.Space.Flex,{row:!0,onClick:()=>r(!0),style:{...o,height:o.minHeight,width:T,display:"flex",alignItems:"center"},children:[t.jsx(z.Typography.Paragraph,{ellipsis:1,style:{flex:1},children:w}),d&&!x&&t.jsx(h.default,{icon:"solar:close-circle-line-duotone",width:16,onClick:q,style:{cursor:"pointer",transition:"color 0.2s ease"}}),t.jsx(h.default,{icon:"solar:alt-arrow-down-line-duotone",width:16,style:{transition:"transform 0.2s ease",transform:S?"rotate(180deg)":"rotate(0deg)"}})]}),children:t.jsx(y.Menu.List,{as:"ul",className:b("Venomous-UI-React--FormField.Select",f),style:{width:"100%"},children:m.map(e=>t.jsx(y.Menu.Item,{text:e.label,isDisabled:e.disabled,isActive:e.value===d,onClick:()=>{e.disabled||p(e.value)},style:{cursor:e.disabled?"not-allowed":"pointer",fontSize:O.TypographySize.small}},e.value))})})});g.displayName="FormField.Select.Original";j.displayName="FormField.Select.Custom";exports.default=v;
