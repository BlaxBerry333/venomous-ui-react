"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),g=require("clsx"),c=require("react"),k=require("../../hooks/useElementFocus/index.js");require("../../utils/design/colors.js");require("../../utils/design/Shadow.js");const O=require("../../utils/design/TypographySize.js"),F=require("../Icon/Icon.js"),b=require("../Menu/index.js"),M=require("../Popover/Popover.js"),N=require("../Space/index.js"),z=require("../Typography/index.js"),P=require("./_useFormFieldStyle.js"),R=require("./FormField.js"),j=c.memo(({isOriginalSelect:d=!1,fullWidth:r,required:x=!1,isError:s=!1,disabled:i=!1,label:m,helpText:l,...f})=>{const{isFocused:o,setIsFocused:u,handleFocus:n,handleBlur:S}=k.default(),{commonStyles:a}=P.useFormFieldStyle({fullWidth:r,isDisabled:i,isError:s,isFocused:o});return t.jsxs(R.default,{label:m,required:x,isDisabled:i,isError:s,isFocused:o,fullWidth:r,helpText:l,children:[d&&t.jsx(q,{commonStyles:a,handleFocus:n,handleBlur:S,disabled:i,...f}),!d&&t.jsx(v,{commonStyles:a,setIsFocused:u,disabled:i,...f})]})});j.displayName="FormField.Select";const q=c.memo(({commonStyles:d,handleFocus:r,handleBlur:x,name:s,autoComplete:i="off",options:m,onChange:l,value:f,disabled:o,className:u,style:n,...S})=>t.jsx("select",{name:s,autoComplete:i,disabled:o,onFocus:r,onBlur:x,onChange:l,value:f,className:g("Venomous-UI-React--FormField.Select",u),style:{boxSizing:"border-box",...d,...n},...S,children:m.map(a=>t.jsx("option",{value:a.value,disabled:a.disabled,children:a.label},a.value))})),v=c.memo(({commonStyles:d,setIsFocused:r,disabled:x,name:s,value:i,options:m,onChange:l,className:f,style:o})=>{const[u,n]=c.useState(i||null),[S,a]=c.useState(!1);c.useEffect(()=>{n(i||null)},[i]);const p=c.useCallback(e=>{n(e),a(!1),r(!1);const h={target:{name:s,value:e},currentTarget:{name:s,value:e}};l==null||l(h)},[s,l,r]),w=c.useCallback(e=>{e.stopPropagation(),n(null),r(!1);const h={target:{name:s,value:""},currentTarget:{name:s,value:""}};l==null||l(h)},[s,l,r]),T=c.useMemo(()=>{var e;return((e=m.find(h=>h.value===u))==null?void 0:e.label)||""},[u]),y=(o==null?void 0:o.width)??d.minWidth;return t.jsx(M.default,{direction:"bottom",trigger:"click",style:{width:"100%"},onClickOutside:()=>r(!1),contentStyle:{width:y},renderTrigger:()=>t.jsxs(N.Space.Flex,{row:!0,onClick:()=>r(!0),style:{...d,height:d.minHeight,width:y,display:"flex",alignItems:"center"},children:[t.jsx(z.Typography.Paragraph,{ellipsis:1,style:{flex:1},children:T}),u&&!x&&t.jsx(F.default,{icon:"solar:close-circle-line-duotone",width:16,onClick:w,style:{cursor:"pointer",transition:"color 0.2s ease"}}),t.jsx(F.default,{icon:"solar:alt-arrow-down-line-duotone",width:16,style:{transition:"transform 0.2s ease",transform:S?"rotate(180deg)":"rotate(0deg)"}})]}),children:t.jsx(b.Menu.List,{as:"ul",className:g("Venomous-UI-React--FormField.Select",f),style:{width:"100%"},children:m.map(e=>t.jsx(b.Menu.Item,{id:e.id,text:e.label,isDisabled:e.disabled,isActive:e.value===u,onClick:()=>{e.disabled||p(e.value)},style:{cursor:e.disabled?"not-allowed":"pointer",fontSize:O.TypographySize.small}},e.id))})})});q.displayName="FormField.Select.Original";v.displayName="FormField.Select.Custom";exports.default=j;
