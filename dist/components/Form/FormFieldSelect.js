"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),R=require("clsx"),r=require("react");require("../Button/ButtonsIcon.js");require("../Button/Button.js");require("../Card/CardsBook.js");require("../Card/CardsProduct.js");require("../Card/CardsTitleBlock.js");require("../Card/Card.js");require("../Chip/Chip.js");require("../Container/Container.js");require("../Divider/Divider.js");require("../Drawer/Drawer.js");require("./FormFieldCheckbox.js");require("./FormFieldNumber.js");require("./FormFieldPassword.js");require("./FormFieldRadio.js");require("./FormFieldSwitch.js");require("./FormFieldText.js");require("./FormFieldTextarea.js");require("./Form.js");const w=require("../Icon/Icon.js");require("../Layout/LayoutCollapseSide.js");require("../Layout/LayoutContent.js");require("../Layout/LayoutFooter.js");require("../Layout/LayoutHeader.js");require("../Layout/LayoutProvider.js");require("../Layout/LayoutSide.js");require("../MediaFile/MediaFileTypeImage.js");require("../MediaFile/MediaFileUploader.js");require("../../utils/design/colors.js");require("../../utils/design/Shadow.js");require("../../utils/design/ThemeBreakpoint.js");require("../../utils/design/TypographySize.js");const y=require("../Menu/index.js");require("../Modal/ModalsConfirm.js");require("../Modal/Modal.js");require("../NoSSR/NoSSR.js");require("../Notification/Notification.js");require("sonner");const O=require("../Popover/Popover.js");require("../Portal/PortalRender.js");require("../Progress/ProgressLoadingBar.js");require("../Progress/ProgressPageLoading.js");require("../Progress/ProgressScrollbar.js");const T=require("../Space/index.js");require("../Tab/Tab.js");require("../Table/Table.js");require("../Theme/ThemeInjectToHTML.js");require("../Theme/ThemeProvider.js");require("../Theme/useThemeBreakpoint.js");require("../Theme/ThemeContext.js");require("../Transition/TransitionCollapseSide.js");require("../Transition/TransitionsCollapse.js");const B=require("../Typography/index.js"),P=require("../../hooks/useElementFocus/index.js"),W=require("./_useFormFieldStyle.js"),z=require("./FormField.js"),k=r.memo(({isOriginalSelect:d=!1,fullWidth:u,required:h=!1,isError:l=!1,disabled:c=!1,label:o,helpText:i,...m})=>{const{isFocused:a,setIsFocused:n,handleFocus:q,handleBlur:f}=P.default(),{commonStyles:s}=W.useFormFieldStyle({fullWidth:u,isDisabled:c,isError:l,isFocused:a});return t.jsxs(z.default,{label:o,required:h,isDisabled:c,isError:l,isFocused:a,fullWidth:u,helpText:i,children:[d&&t.jsx(p,{commonStyles:s,handleFocus:q,handleBlur:f,disabled:c,...m}),!d&&t.jsx(E,{commonStyles:s,setIsFocused:n,disabled:c,...m})]})});k.displayName="FormField.Select";const p=r.memo(({commonStyles:d,handleFocus:u,handleBlur:h,name:l,autoComplete:c="off",options:o,onChange:i,value:m,disabled:a,className:n,style:q,...f})=>t.jsx("select",{name:l,autoComplete:c,disabled:a,onFocus:u,onBlur:h,onChange:i,value:m,className:R("Venomous-UI-React--FormField.Select",n),style:{boxSizing:"border-box",...d,...q},...f,children:o.map(s=>t.jsx("option",{value:s.value,disabled:s.disabled,children:s.label},s.value))})),E=r.memo(({commonStyles:d,setIsFocused:u,disabled:h,name:l,value:c,options:o,onChange:i,className:m,style:a})=>{const[n,q]=r.useState(c||null),[f,s]=r.useState(!1),g=r.useRef(null),[S,v]=r.useState(0),b=S||(a==null?void 0:a.width),F=r.useMemo(()=>o.find(e=>e.value===n),[o,n]);r.useEffect(()=>{q(c||null)},[c]),r.useEffect(()=>{if(g.current){const e=()=>{var j;const x=(j=g.current)==null?void 0:j.getBoundingClientRect();x&&v(x.width)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[]),r.useEffect(()=>{if(f&&g.current){const e=g.current.getBoundingClientRect();e&&e.width!==S&&v(e.width)}},[f,S]);const M=r.useCallback(e=>{q(e),s(!1),u(!1);const x={target:{name:l,value:e},currentTarget:{name:l,value:e}};i==null||i(x)},[l,i,u]),N=r.useCallback(e=>{e.stopPropagation(),q(null),u(!1);const x={target:{name:l,value:""},currentTarget:{name:l,value:""}};i==null||i(x)},[l,i,u]);return t.jsx(O.default,{direction:"bottom",alignment:"start",trigger:"click",style:{width:"100%"},onClickOutside:()=>{s(!1),u(!1)},contentStyle:{width:b},renderTrigger:()=>t.jsxs(T.Space.Flex,{ref:g,onClick:()=>{s(!0),u(!0)},style:{...d,height:d.minHeight,width:"100%",maxWidth:b,display:"flex",alignItems:"center"},children:[t.jsx(B.Typography.Paragraph,{ellipsis:1,style:{flex:1},children:(F==null?void 0:F.label)||""}),n&&!h&&t.jsx(w.default,{icon:"solar:close-circle-line-duotone",width:16,onClick:N,style:{cursor:"pointer",transition:"color 0.2s ease"}}),t.jsx(w.default,{icon:"solar:alt-arrow-down-line-duotone",width:16,style:{transition:"transform 0.2s ease",transform:f?"rotate(180deg)":"rotate(0deg)"}})]}),children:t.jsx(y.Menu.List,{as:"ul",className:R("Venomous-UI-React--FormField.Select",m),style:{width:"100%"},children:o.map(e=>t.jsx(y.Menu.Item,{id:e.id,text:e.label,isDisabled:e.disabled,isActive:e.value===n,onClick:()=>{e.disabled||M(e.value)}},e.id))})})});p.displayName="FormField.Select.Original";E.displayName="FormField.Select.Custom";exports.default=k;
