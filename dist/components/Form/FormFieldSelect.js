"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),j=require("clsx"),r=require("react");require("../Button/ButtonsIcon.js");require("../Button/Button.js");require("../Card/CardsBook.js");require("../Card/CardsProduct.js");require("../Card/CardsTitleBlock.js");require("../Card/Card.js");require("../Chip/Chip.js");require("../Container/Container.js");require("../Divider/Divider.js");require("../Drawer/Drawer.js");require("./FormFieldCheckbox.js");require("./FormFieldNumber.js");require("./FormFieldPassword.js");require("./FormFieldRadio.js");require("./FormFieldSwitch.js");require("./FormFieldText.js");require("./FormFieldTextarea.js");require("./Form.js");const b=require("../Icon/Icon.js");require("../Layout/LayoutCollapseSide.js");require("../Layout/LayoutContent.js");require("../Layout/LayoutFooter.js");require("../Layout/LayoutHeader.js");require("../Layout/LayoutProvider.js");require("../Layout/LayoutSide.js");require("../MediaFile/MediaFileTypeImage.js");require("../MediaFile/MediaFileUploader.js");require("../../utils/design/colors.js");require("../../utils/design/Shadow.js");require("../../utils/design/ThemeBreakpoint.js");const P=require("../../utils/design/TypographySize.js"),w=require("../Menu/index.js");require("../Modal/ModalsConfirm.js");require("../Modal/Modal.js");require("../NoSSR/NoSSR.js");require("../Notification/Notification.js");require("sonner");const z=require("../Popover/Popover.js");require("../Portal/PortalRender.js");require("../Progress/ProgressLoadingBar.js");require("../Progress/ProgressPageLoading.js");require("../Progress/ProgressScrollbar.js");const M=require("../Space/index.js");require("../Tab/Tab.js");require("../Table/Table.js");require("../Theme/ThemeInjectToHTML.js");require("../Theme/ThemeProvider.js");require("../Theme/useThemeBreakpoint.js");require("../Theme/ThemeContext.js");require("../Transition/TransitionCollapseSide.js");require("../Transition/TransitionsCollapse.js");const N=require("../Typography/index.js"),B=require("../../hooks/useElementFocus/index.js"),W=require("./_useFormFieldStyle.js"),_=require("./FormField.js"),p=r.memo(({isOriginalSelect:o=!1,fullWidth:l,required:h=!1,isError:u=!1,disabled:c=!1,label:q,helpText:i,...x})=>{const{isFocused:a,setIsFocused:n,handleFocus:f,handleBlur:m}=B.default(),{commonStyles:s}=W.useFormFieldStyle({fullWidth:l,isDisabled:c,isError:u,isFocused:a});return t.jsxs(_.default,{label:q,required:h,isDisabled:c,isError:u,isFocused:a,fullWidth:l,helpText:i,children:[o&&t.jsx(R,{commonStyles:s,handleFocus:f,handleBlur:m,disabled:c,...x}),!o&&t.jsx(T,{commonStyles:s,setIsFocused:n,disabled:c,...x})]})});p.displayName="FormField.Select";const R=r.memo(({commonStyles:o,handleFocus:l,handleBlur:h,name:u,autoComplete:c="off",options:q,onChange:i,value:x,disabled:a,className:n,style:f,...m})=>t.jsx("select",{name:u,autoComplete:c,disabled:a,onFocus:l,onBlur:h,onChange:i,value:x,className:j("Venomous-UI-React--FormField.Select",n),style:{boxSizing:"border-box",...o,...f},...m,children:q.map(s=>t.jsx("option",{value:s.value,disabled:s.disabled,children:s.label},s.value))})),T=r.memo(({commonStyles:o,setIsFocused:l,disabled:h,name:u,value:c,options:q,onChange:i,className:x,style:a})=>{const[n,f]=r.useState(c||null),[m,s]=r.useState(!1),S=r.useRef(null),[g,F]=r.useState(0);r.useEffect(()=>{f(c||null)},[c]),r.useEffect(()=>{if(S.current){const e=()=>{var y;const d=(y=S.current)==null?void 0:y.getBoundingClientRect();d&&F(d.width)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[]),r.useEffect(()=>{if(m&&S.current){const e=S.current.getBoundingClientRect();e&&e.width!==g&&F(e.width)}},[m,g]);const k=r.useCallback(e=>{f(e),s(!1),l(!1);const d={target:{name:u,value:e},currentTarget:{name:u,value:e}};i==null||i(d)},[u,i,l]),E=r.useCallback(e=>{e.stopPropagation(),f(null),l(!1);const d={target:{name:u,value:""},currentTarget:{name:u,value:""}};i==null||i(d)},[u,i,l]),O=r.useMemo(()=>{var e;return((e=q.find(d=>d.value===n))==null?void 0:e.label)||""},[q,n]),v=g||(a==null?void 0:a.width);return t.jsx(z.default,{direction:"bottom",alignment:"start",trigger:"click",style:{width:"100%"},onClickOutside:()=>{s(!1),l(!1)},contentStyle:{width:v},renderTrigger:()=>t.jsxs(M.Space.Flex,{ref:S,onClick:()=>{s(!0),l(!0)},style:{...o,height:o.minHeight,width:"100%",maxWidth:v,display:"flex",alignItems:"center"},children:[t.jsx(N.Typography.Paragraph,{ellipsis:1,style:{flex:1},children:O}),n&&!h&&t.jsx(b.default,{icon:"solar:close-circle-line-duotone",width:16,onClick:E,style:{cursor:"pointer",transition:"color 0.2s ease"}}),t.jsx(b.default,{icon:"solar:alt-arrow-down-line-duotone",width:16,style:{transition:"transform 0.2s ease",transform:m?"rotate(180deg)":"rotate(0deg)"}})]}),children:t.jsx(w.Menu.List,{as:"ul",className:j("Venomous-UI-React--FormField.Select",x),style:{width:"100%"},children:q.map(e=>t.jsx(w.Menu.Item,{id:e.id,text:e.label,isDisabled:e.disabled,isActive:e.value===n,onClick:()=>{e.disabled||k(e.value)},style:{cursor:e.disabled?"not-allowed":"pointer",fontSize:P.TYPOGRAPHY_SIZES.small}},e.id))})})});R.displayName="FormField.Select.Original";T.displayName="FormField.Select.Custom";exports.default=p;
