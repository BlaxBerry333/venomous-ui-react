"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("react/jsx-runtime"),v=require("clsx"),m=require("framer-motion"),o=require("react"),q=require("../../hooks/useHandler/index.js"),L=require("../Card/Card.js"),y=o.memo(({children:R,style:x,contentStyle:g,placement:p="bottom",renderTrigger:M,trigger:n="click",onClickOutside:u})=>{var f;const e=q.default(),a=o.useRef(null),s=o.useRef(null),r=o.useRef(null),[d,P]=o.useState({top:0,left:0});o.useEffect(()=>{if(n!=="click")return;const i=t=>{var l;r.current&&!r.current.contains(t.target)&&!((l=s.current)!=null&&l.contains(t.target))&&(e.close(),u&&u())};return e.isOpen&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[e,n,u]),o.useEffect(()=>{if(e.isOpen&&a.current&&s.current&&r.current){const i=a.current.getBoundingClientRect(),t=s.current.getBoundingClientRect(),l=r.current.offsetWidth,b=r.current.offsetHeight,h=t.top-i.top,j=t.left-i.left,w=p==="bottom"?h+t.height:h-b,E=j+t.width/2-l/2;P({top:w,left:E})}},[e.isOpen,p]);const W=n==="hover"?{onMouseEnter:()=>{n==="hover"&&e.open()},onMouseLeave:()=>{n==="hover"&&e.close()}}:{};return c.jsxs("div",{ref:a,style:{display:"inline-block",position:"relative",...x},...W,children:[c.jsx("div",{ref:s,...n==="click"?{onClick:e.toggle}:{},className:v("Venomous-UI-React--Popover.Trigger"),style:{display:"inline-block",width:"100%"},children:M(e.isOpen)}),c.jsx(m.AnimatePresence,{children:e.isOpen&&c.jsx(m.motion.div,{ref:r,initial:{opacity:0,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:0},transition:{duration:.2},className:v("Venomous-UI-React--Popover"),style:{position:"absolute",top:d.top,left:d.left,zIndex:1e3,minWidth:(f=s.current)==null?void 0:f.offsetWidth},children:c.jsx(L.default,{style:{padding:"8px",...g},children:R})})})]})});y.displayName="Popover";exports.default=y;
