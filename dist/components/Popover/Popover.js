"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("react/jsx-runtime"),p=require("framer-motion"),o=require("react"),j=require("../../hooks/useHandler/index.js"),q=require("../Card/Card.js"),g=o.memo(({children:m,style:h,placement:c="bottom",renderTrigger:v})=>{var f;const e=j.default(),l=o.useRef(null),i=o.useRef(null),n=o.useRef(null),[d,y]=o.useState({top:0,left:0});return o.useEffect(()=>{const r=t=>{var u;n.current&&!n.current.contains(t.target)&&!((u=i.current)!=null&&u.contains(t.target))&&e.close()};return e.isOpen&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]),o.useEffect(()=>{if(e.isOpen&&l.current&&i.current&&n.current){const r=l.current.getBoundingClientRect(),t=i.current.getBoundingClientRect(),u=n.current.offsetWidth,R=n.current.offsetHeight,a=t.top-r.top,b=t.left-r.left,x=c==="bottom"?a+t.height+8:a-R-8,O=b+t.width/2-u/2;y({top:x,left:O})}},[e.isOpen,c]),s.jsxs("div",{ref:l,style:{display:"inline-block",position:"relative"},children:[s.jsx("div",{ref:i,onClick:e.toggle,style:{display:"inline-block",cursor:"pointer"},children:v({isOpen:e.isOpen})}),s.jsx(p.AnimatePresence,{children:e.isOpen&&s.jsx(p.motion.div,{ref:n,initial:{opacity:0,y:c==="bottom"?-5:5},animate:{opacity:1,y:0},exit:{opacity:0,y:c==="bottom"?-5:5},transition:{duration:.2},style:{position:"absolute",top:d.top,left:d.left,zIndex:1e3,minWidth:(f=i.current)==null?void 0:f.offsetWidth},children:s.jsx(q.default,{style:h,children:m})})})]})});g.displayName="Popover";exports.default=g;
