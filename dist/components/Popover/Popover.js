"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const d=require("react/jsx-runtime"),h=require("clsx"),b=require("framer-motion"),c=require("react");require("../Button/ButtonsIcon.js");require("../Button/Button.js");require("../Card/CardsBook.js");require("../Card/CardsProduct.js");require("../Card/CardsTitleBlock.js");const O=require("../Card/Card.js");require("../Chip/Chip.js");require("../Container/Container.js");require("../Drawer/Drawer.js");require("../Form/FormFieldCheckbox.js");require("../Form/FormFieldNumber.js");require("../Form/FormFieldPassword.js");require("../Form/FormFieldRadio.js");require("../Form/FormFieldSelect.js");require("../Form/FormFieldSwitch.js");require("../Form/FormFieldText.js");require("../Form/FormFieldTextarea.js");require("../Form/Form.js");require("../Icon/Icon.js");require("../Layout/LayoutCollapseSide.js");require("../Layout/LayoutContent.js");require("../Layout/LayoutFooter.js");require("../Layout/LayoutHeader.js");require("../Layout/LayoutProvider.js");require("../Layout/LayoutSide.js");require("../MediaFile/MediaFileTypeImage.js");require("../MediaFile/MediaFileUploader.js");require("../../utils/design/colors.js");require("../../utils/design/Shadow.js");require("../Menu/MenuCollapseItem.js");require("../Menu/MenuItem.js");require("../Menu/MenuList.js");require("../Modal/ModalsConfirm.js");require("../Modal/Modal.js");require("../NoSSR/NoSSR.js");require("../Notification/Notification.js");require("sonner");require("../Portal/PortalRender.js");require("../Progress/ProgressLoadingBar.js");require("../Progress/ProgressPageLoading.js");require("../Progress/ProgressScrollbar.js");require("../Space/SpaceFlex.js");require("../Space/SpaceGrid.js");require("../Tab/Tab.js");require("../Table/Table.js");require("../Theme/ThemeInjectToHTML.js");require("../Theme/ThemeProvider.js");require("../Theme/useThemeBreakpoint.js");require("../Theme/ThemeContext.js");require("../Transition/TransitionCollapseSide.js");require("../Transition/TransitionsCollapse.js");require("../Typography/TypographyCode.js");require("../Typography/TypographyParagraph.js");require("../Typography/TypographyText.js");require("../Typography/TypographyTitle.js");const I=require("../../hooks/useHandler/index.js"),y=c.memo(({children:w,style:x,contentStyle:k,direction:R="bottom",alignment:o="center",renderTrigger:P,trigger:l="click",onClickOutside:v})=>{const r=I.default(),m=c.useRef(null),f=c.useRef(null),a=c.useRef(null),[g,j]=c.useState({top:0,left:0});c.useEffect(()=>{if(l!=="click")return;const q=e=>{var u;a.current&&!a.current.contains(e.target)&&!((u=f.current)!=null&&u.contains(e.target))&&(r.close(),v&&v())};return r.isOpen&&document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[r,l,v]),c.useEffect(()=>{if(r.isOpen&&m.current&&f.current&&a.current){const q=m.current.getBoundingClientRect(),e=f.current.getBoundingClientRect(),u=a.current.offsetWidth,p=a.current.offsetHeight,s=e.top-q.top,n=e.left-q.left;let i,t;switch(R){case"top":i=s-p,o==="start"?t=n:o==="end"?t=n+e.width-u:t=n+e.width/2-u/2;break;case"bottom":i=s+e.height,o==="start"?t=n:o==="end"?t=n+e.width-u:t=n+e.width/2-u/2;break;case"left":t=n-u,o==="start"?i=s:o==="end"?i=s+e.height-p:i=s+e.height/2-p/2;break;case"right":t=n+e.width,o==="start"?i=s:o==="end"?i=s+e.height-p:i=s+e.height/2-p/2;break;default:i=s+e.height,t=n+e.width/2-u/2}j({top:i,left:t})}},[r.isOpen,R,o]);const M=()=>{l==="hover"&&r.open()},E=()=>{l==="hover"&&r.close()};return d.jsxs("div",{ref:m,className:h("Venomous-UI-React--Popover.TriggerWrapper"),style:{display:"inline-block",position:"relative",...x},...l==="hover"?{onMouseEnter:M,onMouseLeave:E}:{},children:[d.jsx("div",{ref:f,style:{display:"inline-block",width:"100%"},className:h("Venomous-UI-React--Popover.Trigger"),...l==="click"?{onClick:r.toggle}:{},children:P({isOpen:r.isOpen,close:r.close,toggle:r.toggle})}),d.jsx(b.AnimatePresence,{children:r.isOpen&&d.jsx(b.motion.div,{ref:a,initial:{opacity:0,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:0},transition:{duration:.2},className:h("Venomous-UI-React--Popover"),style:{boxSizing:"border-box",position:"absolute",top:g.top,left:g.left,zIndex:1e3},children:d.jsx(O.default,{className:h("Venomous-UI-React--Popover.Content"),style:{width:"100%",padding:"8px",...k},children:w})})})]})});y.displayName="Popover";exports.default=y;
