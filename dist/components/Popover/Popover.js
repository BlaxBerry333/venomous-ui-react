"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const f=require("react/jsx-runtime"),h=require("clsx"),y=require("framer-motion"),r=require("react"),I=require("../../hooks/useHandler/index.js");require("../Card/CardsBook.js");require("../Card/CardsProduct.js");require("../Card/CardsTitleBlock.js");const L=require("../Card/Card.js"),w=r.memo(({children:k,style:q,contentStyle:P,direction:n="bottom",renderTrigger:W,trigger:i="click",onClickOutside:m})=>{var b,x;const t=I.default(),v=r.useRef(null),s=r.useRef(null),c=r.useRef(null),[R,j]=r.useState({top:0,left:0});r.useEffect(()=>{if(i!=="click")return;const u=e=>{var o;c.current&&!c.current.contains(e.target)&&!((o=s.current)!=null&&o.contains(e.target))&&(t.close(),m&&m())};return t.isOpen&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[t,i,m]),r.useEffect(()=>{if(t.isOpen&&v.current&&s.current&&c.current){const u=v.current.getBoundingClientRect(),e=s.current.getBoundingClientRect(),o=c.current.offsetWidth,g=c.current.offsetHeight,p=e.top-u.top,d=e.left-u.left;let a,l;switch(n){case"top":a=p-g,l=d+e.width/2-o/2;break;case"bottom":a=p+e.height,l=d+e.width/2-o/2;break;case"left":a=p+e.height/2-g/2,l=d-o;break;case"right":a=p+e.height/2-g/2,l=d+e.width;break;default:a=p+e.height,l=d+e.width/2-o/2}j({top:a,left:l})}},[t.isOpen,n]);const M=()=>{i==="hover"&&t.open()},E=()=>{i==="hover"&&t.close()};return f.jsxs("div",{ref:v,className:h("Venomous-UI-React--Popover.TriggerWrapper"),style:{display:"inline-block",position:"relative",...q},...i==="hover"?{onMouseEnter:M,onMouseLeave:E}:{},children:[f.jsx("div",{ref:s,style:{display:"inline-block",width:"100%"},className:h("Venomous-UI-React--Popover.Trigger"),...i==="click"?{onClick:t.toggle}:{},children:W(t.isOpen)}),f.jsx(y.AnimatePresence,{children:t.isOpen&&f.jsx(y.motion.div,{ref:c,initial:{opacity:0,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:0},transition:{duration:.2},className:h("Venomous-UI-React--Popover"),style:{boxSizing:"border-box",position:"absolute",top:R.top,left:R.left,zIndex:1e3,minWidth:n==="left"||n==="right"||(b=s.current)==null?void 0:b.offsetWidth,maxWidth:n==="left"||n==="right"||(x=s.current)==null?void 0:x.offsetWidth},children:f.jsx(L.default,{className:h("Venomous-UI-React--Popover.Content"),style:{width:"100%",padding:"8px",...P},children:k})})})]})});w.displayName="Popover";exports.default=w;
