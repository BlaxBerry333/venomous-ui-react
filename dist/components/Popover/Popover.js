"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const d=require("react/jsx-runtime"),h=require("clsx"),y=require("framer-motion"),l=require("react");require("../Button/ButtonsIcon.js");require("../Button/Button.js");require("../Card/CardsBook.js");require("../Card/CardsProduct.js");require("../Card/CardsTitleBlock.js");const I=require("../Card/Card.js");require("../Chip/Chip.js");require("../Container/Container.js");require("../Divider/Divider.js");require("../Drawer/Drawer.js");require("../Form/FormFieldCheckbox.js");require("../Form/FormFieldNumber.js");require("../Form/FormFieldPassword.js");require("../Form/FormFieldRadio.js");require("../Form/FormFieldSelect.js");require("../Form/FormFieldSwitch.js");require("../Form/FormFieldText.js");require("../Form/FormFieldTextarea.js");require("../Form/Form.js");require("../Icon/Icon.js");require("../Layout/LayoutCollapseSide.js");require("../Layout/LayoutContent.js");require("../Layout/LayoutFooter.js");require("../Layout/LayoutHeader.js");require("../Layout/LayoutProvider.js");require("../Layout/LayoutSide.js");require("../MediaFile/MediaFileTypeImage.js");require("../MediaFile/MediaFileUploader.js");require("../../utils/design/colors.js");require("../../utils/design/Shadow.js");require("../../utils/design/ThemeBreakpoint.js");require("../../utils/design/TypographySize.js");require("../Menu/MenuCollapseItem.js");require("../Menu/MenuItem.js");require("../Menu/MenuList.js");require("../Modal/ModalsConfirm.js");require("../Modal/Modal.js");require("../NoSSR/NoSSR.js");require("../Notification/Notification.js");require("sonner");require("../Portal/PortalRender.js");require("../Progress/ProgressLoadingBar.js");require("../Progress/ProgressPageLoading.js");require("../Progress/ProgressScrollbar.js");require("../Space/SpaceFlex.js");require("../Space/SpaceGrid.js");require("../Tab/Tab.js");require("../Table/Table.js");require("../Theme/ThemeInjectToHTML.js");require("../Theme/ThemeProvider.js");require("../Theme/useThemeBreakpoint.js");require("../Theme/ThemeContext.js");require("../Transition/TransitionCollapseSide.js");require("../Transition/TransitionsCollapse.js");require("../Typography/TypographyCode.js");require("../Typography/TypographyParagraph.js");require("../Typography/TypographyText.js");require("../Typography/TypographyTitle.js");const L=require("../../hooks/useHandler/index.js"),g=l.memo(({children:w,style:x,contentStyle:k,triggerStyle:P,direction:R="bottom",alignment:o="center",renderTrigger:j,trigger:c="click",onClickOutside:v})=>{const r=L.default(),m=l.useRef(null),f=l.useRef(null),q=l.useRef(null),[b,M]=l.useState({top:0,left:0});l.useEffect(()=>{if(c!=="click")return;const a=e=>{var u;q.current&&!q.current.contains(e.target)&&!((u=f.current)!=null&&u.contains(e.target))&&(r.close(),v&&v())};return r.isOpen&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[r,c,v]),l.useEffect(()=>{if(r.isOpen&&m.current&&f.current&&q.current){const a=m.current.getBoundingClientRect(),e=f.current.getBoundingClientRect(),u=q.current.offsetWidth,p=q.current.offsetHeight,s=e.top-a.top,n=e.left-a.left;let i,t;switch(R){case"top":i=s-p,o==="start"?t=n:o==="end"?t=n+e.width-u:t=n+e.width/2-u/2;break;case"bottom":i=s+e.height,o==="start"?t=n:o==="end"?t=n+e.width-u:t=n+e.width/2-u/2;break;case"left":t=n-u,o==="start"?i=s:o==="end"?i=s+e.height-p:i=s+e.height/2-p/2;break;case"right":t=n+e.width,o==="start"?i=s:o==="end"?i=s+e.height-p:i=s+e.height/2-p/2;break;default:i=s+e.height,t=n+e.width/2-u/2}M({top:i,left:t})}},[r.isOpen,R,o]);const E=()=>{c==="hover"&&r.open()},O=()=>{c==="hover"&&r.close()};return d.jsxs("div",{ref:m,className:h("Venomous-UI-React--Popover.TriggerWrapper"),style:{display:"inline-block",position:"relative",...x},...c==="hover"?{onMouseEnter:E,onMouseLeave:O}:{},children:[d.jsx("div",{ref:f,className:h("Venomous-UI-React--Popover.Trigger"),style:{display:"inline-block",width:"100%",cursor:c==="click"?"pointer":"auto",...P},...c==="click"?{onClick:r.toggle}:{},children:j({isOpen:r.isOpen,close:r.close,toggle:r.toggle})}),d.jsx(y.AnimatePresence,{children:r.isOpen&&d.jsx(y.motion.div,{ref:q,initial:{opacity:0,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:0},transition:{duration:.2},className:h("Venomous-UI-React--Popover"),style:{boxSizing:"border-box",position:"absolute",top:b.top,left:b.left,zIndex:1e3},children:d.jsx(I.default,{className:h("Venomous-UI-React--Popover.Content"),style:{width:"100%",padding:"8px",...k},children:w})})})]})});g.displayName="Popover";exports.default=g;
