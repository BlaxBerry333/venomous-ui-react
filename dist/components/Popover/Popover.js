"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("react/jsx-runtime"),h=require("framer-motion"),o=require("react"),O=require("../../hooks/useHandler/index.js"),P=require("../Card/Card.js"),v=o.memo(({children:m,style:y,contentStyle:R,placement:u="bottom",renderTrigger:g,trigger:n="click"})=>{var d;const e=O.default(),a=o.useRef(null),i=o.useRef(null),r=o.useRef(null),[p,x]=o.useState({top:0,left:0});o.useEffect(()=>{if(n!=="click")return;const s=t=>{var l;r.current&&!r.current.contains(t.target)&&!((l=i.current)!=null&&l.contains(t.target))&&e.close()};return e.isOpen&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e,n]),o.useEffect(()=>{if(e.isOpen&&a.current&&i.current&&r.current){const s=a.current.getBoundingClientRect(),t=i.current.getBoundingClientRect(),l=r.current.offsetWidth,W=r.current.offsetHeight,f=t.top-s.top,j=t.left-s.left,k=u==="bottom"?f+t.height:f-W,E=j+t.width/2-l/2;x({top:k,left:E})}},[e.isOpen,u]);const b=n==="hover"?{onMouseEnter:()=>{n==="hover"&&e.open()},onMouseLeave:()=>{n==="hover"&&e.close()}}:{},M=n==="click"?{onClick:e.toggle}:{};return c.jsxs("div",{ref:a,style:{display:"inline-block",position:"relative",...y},...b,children:[c.jsx("div",{ref:i,...M,style:{display:"inline-block"},children:g(e.isOpen)}),c.jsx(h.AnimatePresence,{children:e.isOpen&&c.jsx(h.motion.div,{ref:r,initial:{opacity:0,y:u==="bottom"?-5:5},animate:{opacity:1,y:0},exit:{opacity:0,y:u==="bottom"?-5:5},transition:{duration:.2},style:{position:"absolute",top:p.top,left:p.left,zIndex:1e3,minWidth:(d=i.current)==null?void 0:d.offsetWidth},children:c.jsx(P.default,{style:{padding:"8px",...R},children:m})})})]})});v.displayName="Popover";exports.default=v;
