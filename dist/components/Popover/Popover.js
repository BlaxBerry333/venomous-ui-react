"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("react/jsx-runtime"),v=require("clsx"),m=require("framer-motion"),o=require("react"),E=require("../../hooks/useHandler/index.js");require("../Card/CardsBook.js");require("../Card/CardsProduct.js");require("../Card/CardsTitleBlock.js");const L=require("../Card/Card.js"),y=o.memo(({children:R,style:x,contentStyle:g,placement:p="bottom",renderTrigger:q,trigger:n="click",onClickOutside:l})=>{var f;const e=E.default(),a=o.useRef(null),i=o.useRef(null),r=o.useRef(null),[d,M]=o.useState({top:0,left:0});o.useEffect(()=>{if(n!=="click")return;const s=t=>{var u;r.current&&!r.current.contains(t.target)&&!((u=i.current)!=null&&u.contains(t.target))&&(e.close(),l&&l())};return e.isOpen&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e,n,l]),o.useEffect(()=>{if(e.isOpen&&a.current&&i.current&&r.current){const s=a.current.getBoundingClientRect(),t=i.current.getBoundingClientRect(),u=r.current.offsetWidth,W=r.current.offsetHeight,h=t.top-s.top,b=t.left-s.left,j=p==="bottom"?h+t.height:h-W,w=b+t.width/2-u/2;M({top:j,left:w})}},[e.isOpen,p]);const P=n==="hover"?{onMouseEnter:()=>{n==="hover"&&e.open()},onMouseLeave:()=>{n==="hover"&&e.close()}}:{};return c.jsxs("div",{ref:a,style:{display:"inline-block",position:"relative",...x},...P,children:[c.jsx("div",{ref:i,...n==="click"?{onClick:e.toggle}:{},className:v("Venomous-UI-React--Popover.Trigger"),style:{display:"inline-block",width:"100%"},children:q(e.isOpen)}),c.jsx(m.AnimatePresence,{children:e.isOpen&&c.jsx(m.motion.div,{ref:r,initial:{opacity:0,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:0},transition:{duration:.2},className:v("Venomous-UI-React--Popover"),style:{position:"absolute",top:d.top,left:d.left,zIndex:1e3,minWidth:(f=i.current)==null?void 0:f.offsetWidth},children:c.jsx(L.default,{style:{padding:"8px",...g},children:R})})})]})});y.displayName="Popover";exports.default=y;
