"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("react/jsx-runtime"),p=require("framer-motion"),o=require("react"),q=require("../../hooks/useHandler/index.js"),w=require("../Card/Card.js"),g=o.memo(({children:m,style:h,contentStyle:v,placement:c="bottom",renderTrigger:y})=>{var a;const e=q.default(),l=o.useRef(null),i=o.useRef(null),n=o.useRef(null),[d,R]=o.useState({top:0,left:0});return o.useEffect(()=>{const r=t=>{var u;n.current&&!n.current.contains(t.target)&&!((u=i.current)!=null&&u.contains(t.target))&&e.close()};return e.isOpen&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]),o.useEffect(()=>{if(e.isOpen&&l.current&&i.current&&n.current){const r=l.current.getBoundingClientRect(),t=i.current.getBoundingClientRect(),u=n.current.offsetWidth,x=n.current.offsetHeight,f=t.top-r.top,b=t.left-r.left,j=c==="bottom"?f+t.height+8:f-x-8,O=b+t.width/2-u/2;R({top:j,left:O})}},[e.isOpen,c]),s.jsxs("div",{ref:l,style:{display:"inline-block",position:"relative",...h},children:[s.jsx("div",{ref:i,onClick:e.toggle,style:{display:"inline-block"},children:y(e.isOpen)}),s.jsx(p.AnimatePresence,{children:e.isOpen&&s.jsx(p.motion.div,{ref:n,initial:{opacity:0,y:c==="bottom"?-5:5},animate:{opacity:1,y:0},exit:{opacity:0,y:c==="bottom"?-5:5},transition:{duration:.2},style:{position:"absolute",top:d.top,left:d.left,zIndex:1e3,minWidth:(a=i.current)==null?void 0:a.offsetWidth},children:s.jsx(w.default,{style:{padding:"8px",...v},children:m})})})]})});g.displayName="Popover";exports.default=g;
