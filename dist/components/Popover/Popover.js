"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("react/jsx-runtime"),v=require("framer-motion"),n=require("react"),L=require("../../hooks/useHandler/index.js"),k=require("../Card/Card.js"),m=n.memo(({children:y,style:R,contentStyle:g,placement:p="bottom",renderTrigger:x,trigger:o="click",onClickOutside:u})=>{var f;const e=L.default(),a=n.useRef(null),i=n.useRef(null),r=n.useRef(null),[d,M]=n.useState({top:0,left:0});n.useEffect(()=>{if(o!=="click")return;const s=t=>{var l;r.current&&!r.current.contains(t.target)&&!((l=i.current)!=null&&l.contains(t.target))&&(e.close(),u&&u())};return e.isOpen&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e,o,u]),n.useEffect(()=>{if(e.isOpen&&a.current&&i.current&&r.current){const s=a.current.getBoundingClientRect(),t=i.current.getBoundingClientRect(),l=r.current.offsetWidth,j=r.current.offsetHeight,h=t.top-s.top,w=t.left-s.left,E=p==="bottom"?h+t.height:h-j,P=w+t.width/2-l/2;M({top:E,left:P})}},[e.isOpen,p]);const W=o==="hover"?{onMouseEnter:()=>{o==="hover"&&e.open()},onMouseLeave:()=>{o==="hover"&&e.close()}}:{},b=o==="click"?{onClick:e.toggle}:{};return c.jsxs("div",{ref:a,style:{display:"inline-block",position:"relative",...R},...W,children:[c.jsx("div",{ref:i,...b,style:{display:"inline-block",width:"100%"},children:x(e.isOpen)}),c.jsx(v.AnimatePresence,{children:e.isOpen&&c.jsx(v.motion.div,{ref:r,initial:{opacity:0,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:0},transition:{duration:.2},style:{position:"absolute",top:d.top,left:d.left,zIndex:1e3,minWidth:(f=i.current)==null?void 0:f.offsetWidth},children:c.jsx(k.default,{style:{padding:"8px",...g},children:y})})})]})});m.displayName="Popover";exports.default=m;
