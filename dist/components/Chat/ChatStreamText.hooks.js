"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react"),I=require("../../constants/names/COMPONENT_DISPLAY_NAMES.js");require("../../constants/names/COMPONENT_CLASSNAME_NAMES.js");require("../../constants/designs/BACKGROUND_COLORS.js");require("../../constants/designs/BORDER_COLORS.js");require("../../constants/designs/SHADOW_STYLES.js");require("../../constants/designs/TEXT_COLORS.js");require("../../constants/designs/THEME_BREAKPOINTS.js");const T=require("../../hooks/useThemeDesigns/index.js");require("../Theme/ThemeProvider.context.js");const E=require("../../hooks/useCustomStyle/index.js");let d=!1;const h="__VENOMOUS_UI__chat-stream-cursor-keyframes";function q(){if(d||typeof document>"u")return;if(document.getElementById(h)){d=!0;return}const e=document.createElement("style");e.id=h,e.textContent=`
    @keyframes venomous-cursor-blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
  `,document.head.appendChild(e),d=!0}function _({cursorBlinkSpeed:e=1e4}){const{TextColors:s}=T.default(),t=E.default({displayName:I.COMPONENT_DISPLAY_NAMES.ChatStreamText});n.useEffect(()=>{q()},[]);const f=n.useMemo(()=>({boxSizing:"border-box",display:"inline",whiteSpace:"pre-wrap",wordBreak:"break-word",...t}),[t]),r=n.useMemo(()=>({display:"inline",color:s[1],fontWeight:"normal",animation:`venomous-cursor-blink ${e}ms step-end infinite`}),[s,e]);return{containerStyle:f,cursorStyle:r}}function v({text:e,speed:s=30,streaming:t=!1,skipAnimation:f=!1,onComplete:r}){const[o,a]=n.useState(""),[y,c]=n.useState(!1),i=n.useRef(""),u=n.useRef(0);return n.useEffect(()=>{if(f){a(e),c(!0),t||r==null||r();return}if(!e){a(""),c(!1),i.current="",u.current=0;return}if(e.startsWith(i.current)){const l=i.current.length;u.current=l;const S=setInterval(()=>{u.current<e.length?(u.current++,a(e.slice(0,u.current))):(clearInterval(S),i.current=e,t||(c(!0),r==null||r()))},s);return()=>clearInterval(S)}else{i.current="",u.current=0,a(""),c(!1);const l=setInterval(()=>{u.current<e.length?(u.current++,a(e.slice(0,u.current))):(clearInterval(l),i.current=e,t||(c(!0),r==null||r()))},s);return()=>clearInterval(l)}},[e,s,t,f,r]),n.useEffect(()=>{!t&&o===e&&e.length>0&&c(!0)},[t,o,e]),{displayedText:o,isTypingComplete:y,showCursorNow:t||!y}}exports.useChatStreamTextActions=v;exports.useChatStreamTextStyles=_;
