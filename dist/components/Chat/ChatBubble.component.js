"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),l=require("react"),I=require("clsx"),R=require("../Icon/Icon.component.js"),d=require("../../constants/names/COMPONENT_DISPLAY_NAMES.js"),r=require("../../constants/names/COMPONENT_CLASSNAME_NAMES.js");require("../../constants/designs/BACKGROUND_COLORS.js");require("../../constants/designs/BORDER_COLORS.js");require("../../constants/designs/SHADOW_STYLES.js");require("../../constants/designs/TEXT_COLORS.js");require("../../constants/designs/THEME_BREAKPOINTS.js");require("../Theme/ThemeProvider.context.js");const W=require("../../hooks/useCustomComponentProps/index.js"),u=require("./ChatBubble.hooks.js"),N=require("./ChatBubble.types.js"),A=l.memo(l.forwardRef(({className:M,style:S,placement:C,loading:E,Avatar:b,senderName:h,timestamp:_,formatTimestamp:p,message:f,maxWidth:y,...T},x)=>{const e=W.default({displayName:d.COMPONENT_DISPLAY_NAMES.ChatBubble}),i=C??e.placement??N.CHAT_BUBBLE_PLACEMENT_MAP.LEFT,o=E??e.loading??!1,m=b??e.Avatar,a=h??e.senderName,s=_??e.timestamp,c=p??e.formatTimestamp??u.formatDefaultTimestamp,O=f??e.message,P=y??e.maxWidth??"75%",B=m!=null,{containerStyle:q,bubbleStyle:v,metaStyle:L,senderNameStyle:g,timestampStyle:j}=u.useChatBubbleStyles({placement:i,maxWidth:P}),n=l.useMemo(()=>{if(!s)return null;const w=s instanceof Date?s:new Date(s);return c(w)},[s,c]),D=a||n;return t.jsxs("div",{ref:x,className:I(r.COMPONENT_CLASSNAME_NAMES.ChatBubble,M),style:{...q,...S},role:"article","aria-label":`Message from ${a||(i===N.CHAT_BUBBLE_PLACEMENT_MAP.RIGHT?"you":"assistant")}`,"aria-busy":o||void 0,...T,children:[B&&t.jsx("div",{className:r.COMPONENT_CLASSNAME_NAMES.ChatBubbleAvatar,style:{flexShrink:0},children:m}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:0,flex:1},children:[D&&t.jsxs("div",{className:r.COMPONENT_CLASSNAME_NAMES.ChatBubbleMeta,style:L,children:[a&&t.jsx("span",{style:g,children:a}),n&&t.jsx("span",{style:j,children:n})]}),t.jsx("div",{className:r.COMPONENT_CLASSNAME_NAMES.ChatBubbleContent,style:v,children:o?t.jsx(R.default,{icon:"eos-icons:three-dots-loading",width:24}):O})]})]})}));A.displayName=d.COMPONENT_DISPLAY_NAMES.ChatBubble;exports.default=A;
