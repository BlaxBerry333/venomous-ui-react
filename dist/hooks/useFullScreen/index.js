"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const l=require("react");function b(s,f){const{onEnter:c,onExit:u,onError:n}=f||{},[r,w]=l.useState(!1),t=l.useMemo(()=>{if(typeof document>"u")return!1;const e=document;return!!(document.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)},[]),d=l.useCallback(()=>(s==null?void 0:s.current)||document.documentElement,[s]),i=l.useCallback(async()=>{if(!t){const e=new Error("Fullscreen API is not supported in this browser");n==null||n(e);return}try{const e=d();e.requestFullscreen?await e.requestFullscreen():e.webkitRequestFullscreen?await e.webkitRequestFullscreen():e.mozRequestFullScreen?await e.mozRequestFullScreen():e.msRequestFullscreen&&await e.msRequestFullscreen()}catch(e){n==null||n(e)}},[t,d,n]),a=l.useCallback(async()=>{if(!t){const e=new Error("Fullscreen API is not supported in this browser");n==null||n(e);return}try{const e=document;document.exitFullscreen?await document.exitFullscreen():e.webkitExitFullscreen?await e.webkitExitFullscreen():e.mozCancelFullScreen?await e.mozCancelFullScreen():e.msExitFullscreen&&await e.msExitFullscreen()}catch(e){n==null||n(e)}},[t,n]),m=l.useCallback(async()=>{r?await a():await i()},[r,i,a]);return l.useEffect(()=>{if(!t||typeof document>"u")return;const e=()=>{const o=document,F=!!(document.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement);w(F),F?c==null||c():u==null||u()};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[t,c,u]),l.useMemo(()=>({isFullscreen:r,isSupported:t,enterFullscreen:i,exitFullscreen:a,toggleFullscreen:m}),[r,t,i,a,m])}exports.default=b;
